<br><br><br>

<ul class="nav nav-tabs flex-column flex-sm-row">
  <li class="nav-item">
    <%= link_to t(:contributors), usuarios_path, :class => "nav-link" %>
  </li>
  <li class="nav-item">
    <%= link_to @usuario.name, usuario_path(@usuario.id), :class => "nav-link active" %>
  </li>
</ul>

<br>

<div class="tab-content" style="min-height: 64px;">
  <div class="tab-pane active">

    <div class="thumbnail">
      <%= image_tag(@usuario.imagem.url(:medium), :width => "150") %>
      <% if usuario_signed_in? %>
        <% if current_usuario.admin? or current_usuario.id == @usuario.id %>
          <%= link_to image_tag(@usuario.imagem.url(:medium), :width => "150"), edit_usuario_path(@usuario) %>
        <% end %>
     <% end %>
    </div>

    <h3><%= @usuario.name %></h3>
    <br>
    <% if usuario_signed_in? %>
      <%= "<strong>E-Mail</strong><br>#{@usuario.email}&nbsp;".html_safe if @usuario.email? %>
      <br><br>
    <% end %>

    <% if @usuario.about and @usuario.about .length() > 0 %>
      <%= "<strong>Bio</strong><br><div class='text-box'>#{simple_format (h @usuario.about).gsub(URI.regexp, '<a href="\0">\0</a>')}</div>".html_safe if @usuario.about %>
    <% end %>

    <% if @usuario.website and @usuario.website .length() > 0 %>
      <%= "<strong>Website</strong><br><div class='text-box'>#{simple_format (h @usuario.website).gsub(URI.regexp, '<a href="\0">\0</a>')}</div>".html_safe if @usuario.website %>
    <% end %>

    <%= "<strong>#{t(:registered_locations)}</strong><br>#{@usuario.locais.map { |local| link_to local.name, local_path(local) }.join(", ").html_safe}&nbsp;".html_safe if @usuario.locais.count > 0 %>
  </div>
</div>

<% if usuario_signed_in? %>
  <% if current_usuario.admin? or current_usuario.id == @usuario.id %>
    <hr>
    <div class="form-actions">
      <%= link_to t("location.register_new_location"), new_local_path, :class => "btn btn-primary" %>
      <%= link_to t('.edit', :default => "Editar"), edit_usuario_path(@usuario), :class => 'btn btn-success' %>
      <% if current_usuario.admin? %>
        <%= link_to t(:destroy), usuario_path(@usuario), :method => 'delete', :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'VocÃª tem Certeza?')) }, :class => 'btn btn-danger' if @usuario.id != 1 %>
      <% end %>
    </div>
  <% end %>
<% end %>
